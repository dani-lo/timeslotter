define(["underscore","moment"],function(a,b){"use strict";function c(){this.types={A:1,B:2,c:4},this.type=null,this.name=null,this.slots=[],this.interval=null,this.range=24}return c.prototype.initialize=function(){this.initSlots()},c.prototype.initSlots=function(){for(var a=this.range/this.interval,b=0;a>b;b++)this.slots.push({id:b,booked:!1})},c.prototype.inflate=function(b){this.type=b.get("type"),this.name=b.get("name"),this.interval=this.range/this.types[this.type];var c=b.get("booked");a.each(this.slots,a.bind(function(a){-1!==c.indexOf(a.id)&&this.bookSlot(a.id)},this))},c.prototype.bookSlot=function(b){a.each(this.slots,a.bind(function(a){a.id===b&&(a.booked=!0)},this))},c.prototype.freeSlot=function(b){a.each(this.slots,a.bind(function(a){a.id===b&&(a.booked=!1)},this))},c.prototype.toObject=function(){var b=[];return a.each(this.slots,a.bind(function(a){a.booked===!0&&b.push(a.id)},this)),{name:this.name,type:this.type,booked:b}},c});